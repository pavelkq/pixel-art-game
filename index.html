<!DOCTYPE html>
<html>
<head>
    <title>–ü–∏–∫—Å–µ–ª—å –ê—Ä—Ç –ò–≥—Ä–∞</title>
    <style>
        body { 
            margin: 0; 
            padding: 20px;
            background: #2c3e50;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            font-family: Arial;
        }
        canvas {
            border: 3px solid #34495e;
            background: #1a252f;
        }
        .info {
            margin: 15px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>‚ú® –ü–∏–∫—Å–µ–ª—å –ê—Ä—Ç –ò–≥—Ä–∞</h1>
    <div class="info">
        <p>–°–æ–±—Ä–∞–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: <span id="score">0</span></p>
        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°—Ç—Ä–µ–ª–∫–∏ ‚Üê ‚Üë ‚Üí ‚Üì</p>
    </div>
    <canvas id="gameCanvas" width="400" height="400"></canvas>

    <script>
        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('score');

        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let score = 0;
        const player = {
            x: 200,
            y: 200,
            size: 20,
            speed: 3,
            color: '#e74c3c'
        };

        const items = [
            { x: 100, y: 100, size: 15, color: '#f1c40f', collected: false },
            { x: 300, y: 150, size: 15, color: '#f1c40f', collected: false },
            { x: 150, y: 300, size: 15, color: '#f1c40f', collected: false },
            { x: 350, y: 350, size: 15, color: '#f1c40f', collected: false }
        ];

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏—à–∞–º–∏
        const keys = {};

        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });

        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
        function movePlayer() {
            if (keys['ArrowUp'] || keys['w'] || keys['—Ü']) {
                player.y -= player.speed;
            }
            if (keys['ArrowDown'] || keys['s'] || keys['—ã']) {
                player.y += player.speed;
            }
            if (keys['ArrowLeft'] || keys['a'] || keys['—Ñ']) {
                player.x -= player.speed;
            }
            if (keys['ArrowRight'] || keys['d'] || keys['–≤']) {
                player.x += player.speed;
            }

            // –ì—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—è
            player.x = Math.max(0, Math.min(canvas.width - player.size, player.x));
            player.y = Math.max(0, Math.min(canvas.height - player.size, player.y));
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        function checkCollisions() {
            items.forEach(item => {
                if (!item.collected) {
                    const distance = Math.sqrt(
                        Math.pow(player.x + player.size/2 - (item.x + item.size/2), 2) +
                        Math.pow(player.y + player.size/2 - (item.y + item.size/2), 2)
                    );
                    
                    if (distance < player.size/2 + item.size/2) {
                        item.collected = true;
                        score++;
                        scoreElement.textContent = score;
                        
                        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫ –∑–¥–µ—Å—å –ø–æ–∑–∂–µ
                        console.log('–ü—Ä–µ–¥–º–µ—Ç —Å–æ–±—Ä–∞–Ω!');
                    }
                }
            });
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–∫–∞
        function drawPlayer() {
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.size, player.size);
            
            // –ì–ª–∞–∑–∞ (–ø–∏–∫—Å–µ–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
            ctx.fillStyle = '#000';
            ctx.fillRect(player.x + 4, player.y + 5, 3, 3);
            ctx.fillRect(player.x + 13, player.y + 5, 3, 3);
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        function drawItems() {
            items.forEach(item => {
                if (!item.collected) {
                    ctx.fillStyle = item.color;
                    ctx.fillRect(item.x, item.y, item.size, item.size);
                    
                    // –ë–ª–∏–∫ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç–µ
                    ctx.fillStyle = '#fff';
                    ctx.fillRect(item.x + 3, item.y + 3, 4, 4);
                }
            });
        }

        // –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        function gameLoop() {
            // –û—á–∏—Å—Ç–∫–∞ canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –†–∏—Å—É–µ–º —Å–µ—Ç–∫—É –¥–ª—è –ø–∏–∫—Å–µ–ª—å-–∞—Ä—Ç —Å—Ç–∏–ª—è
            ctx.strokeStyle = '#34495e';
            ctx.lineWidth = 1;
            for (let x = 0; x <= canvas.width; x += 20) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y <= canvas.height; y += 20) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            
            // –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
            movePlayer();
            checkCollisions();
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
            drawItems();
            drawPlayer();
            
            // –°–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä
            requestAnimationFrame(gameLoop);
        }

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        gameLoop();

        console.log('üéÆ –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞! –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–∫–∞–º–∏');
    </script>
</body>
</html>